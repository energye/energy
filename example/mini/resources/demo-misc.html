<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style type="text/css">
        a, button {
            margin: 5px;
        }

        .title, .select {
            background: #C4E3FD;
            width: 100%;
            height: 35px;
            position: fixed;
            top: 0;
        }

        .select {
            background: #ffffff;
            top: 35px;
            display: flex;
        }

        .select .inps {
            flex: 1;
        }

        .select .inpQuery {
            width: 50px;
        }
    </style>
</head>
<body id="bodyId" style="border: 0; padding: 0;margin:0;overflow-x: hidden;overflow-y: hidden;height: 900px;">
<div class="title" onmousedown="divMnmousedown(event)" style="text-align: right;">
    <span> ğŸ”´ è¿™é‡Œæ˜¯ html > div çª—å£æ ‡é¢˜æ  ğŸ”´å¯ä»¥æ‹–åŠ¨çª—å£ï¼Œä½†æœ‰ä¸€ç‚¹å»¶è¿Ÿ ğŸ”´ </span>
    <button onclick="minWindow()">æœ€å°åŒ–</button>
    <button onclick="maxWindow()">æœ€å¤§åŒ–</button>
    <button onclick="closeWindow()">å…³é—­</button>
</div>
<div class="select">
    <button class="inpQuery" style="transform: rotate(180deg)" id="back">â–¶</button>
    <button class="inpQuery" id="forward">â–¶</button>
    <button class="inpQuery" id="refresh">â†»âœ–</button>
    <input class="inps" type="text" placeholder="åœ°å€æ ">
    <button class="inpQuery">GO</button>
</div>
<div style="margin-top: 70px;overflow-y: auto;height: 850px;overflow-x: hidden;">
    <h3>Golang ç»‘å®š Javascrip ç¤ºä¾‹.æµ‹è¯•é¡µé¢-resources</h3>

    <p>Golang ç»‘å®šæ˜ å°„ Javascript é€šç”¨ç±»å‹å±æ€§ã€å‡½æ•°ï¼Œç»“æ„å¯¹è±¡å±æ€§</p>
    é€šç”¨ç±»å‹ï¼š

    <button onclick="windowList()">è·å–window-List</button>
    <button onclick="testGetVal()">å¾ªç¯æµ‹è¯•</button>
    <button onclick="clearIntervalFn()">clearInterval</button>
    <br>
    <button onclick="GetVar()">GetVar</button>
    <button onclick="extFunName()">Goå¯¹è±¡extFunNameå‡½æ•°</button>
    <button onclick="SetVarA(-1)">SetVar</button>
    <button onclick="SetVarA(0)">VarSetString</button>
    <button onclick="SetVarA(1)">VarSetInt</button>
    <button onclick="SetVarA(2)">VarSetDouble</button>
    <button onclick="SetVarA(3)">VarSetBool</button>
    <br>
    <button onclick="myFunc()">æ‰§è¡Œå‡½æ•°</button>
    <button onclick="newWindow()">åˆ›å»ºæ–°çª—å£</button>
    <button onclick="newBrowserWindow()">åˆ›å»ºBrowseræ–°çª—å£</button>
    <br>
    å¯¹è±¡å›ºå®šç±»å‹
    <button onclick="getObjectFieldValue()">Object-è·å–å­—æ®µå€¼</button>
    <button onclick="asyncIPCGetObjectFieldValue()">å¼‚æ­¥IPC-è·å–å¯¹è±¡å€¼</button>
    <button onclick="asyncIPCSetObjectFieldValue()">å¼‚æ­¥IPC-è®¾ç½®å¯¹è±¡å€¼</button>
    <button onclick="setObjectFieldValue()">Object-è®¾ç½®å­—æ®µå€¼</button>
    <button onclick="setObjectFieldValue1()">Object-è®¾ç½®å­—æ®µå€¼1</button>
    <button onclick="objectFunc()">Object-æ‰§è¡Œå‡½æ•°</button>
    <br>
    <button onclick="asyncIPCGet()">å¼‚æ­¥IPC-è·å–å€¼</button>
    <button onclick="GetValue()">è·å–å€¼</button>
    <br>
    <input id="find" value=""><button onclick="find()">æŸ¥æ‰¾</button><button onclick="findStop()">åœæ­¢æŸ¥æ‰¾</button>
    <br>
    UIæ“ä½œ
    <button onclick="disabledUIBtn()">ç¦ç”¨ã€æ‰“å°PDFã€‘æŒ‰é’®</button>
    <button onclick="ipcServerOn()">IPC Server ONæµ‹è¯•</button>
    <button onclick="subWindowIPCOn()">å­çª—å£IPCOnäº‹ä»¶(jsrender > gobrowser > gorender > gobrowser)</button>
    <br>
    <button onclick="BrowserId()">BrowserWindow.BrowserId()</button>
    <button onclick="FrameId()">BrowserWindow.FrameId()</button>
    <a target="_blank" href="demo-misc.html">æ–°çª—å£</a>
    <a href="demo-misc.html">å½“å‰çª—å£</a>
    <a href="https://www.baidu.com">ç™¾åº¦</a>
    <a target="_blank" href="https://note.yanghy.cn">Note(æ–°çª—å£)</a>
    <a href="https://note.yanghy.cn">Note</a>
    <a href="min-browser-page2.html">Page2.html</a>
    <a href="min-browser-refresh.html">è‡ªåŠ¨åˆ·æ–°</a>
    <a href="http://nn.gxajks.com/default/loaddown">ä¸‹è½½é¡µé¢</a>
    <a href="https://www.360cities.net/">https://www.360cities.net/</a>
    <a href="https://playground.babylonjs.com/">https://playground.babylonjs.com/</a>
    <a href="http://120.48.25.102:8089/">http://120.48.25.102:8089/</a>
    <div id="test" style="width: 100%;border: solid 1px red;min-height: 100px;"></div>
    <br>
<!--    <iframe id="aaaaa" name="aaaaa" src="demo-misc.html" width="49%" height="300"></iframe>-->
<!--    <iframe id="bbbbb" name="bbbbb"  src="demo-misc.html" width="49%" height="300"></iframe>-->
    <textarea style="width: 100%;height: 200px;"></textarea>
    <br>
    <img src="icon.ico">
    <br>
    è§†é¢‘æ’­æ”¾ï¼š
    <video id="my_video_1" class="video-js vjs-default-skin" width="300px" height="300px"
           controls preload="none" poster='http://video-js.zencoder.com/oceans-clip.jpg'
           data-setup='{ "aspectRatio":"640:267", "playbackRates": [1, 1.5, 2] }' onmouseenter="">
        <source src="https://vjs.zencdn.net/v/oceans.mp4" type='video/mp4'/>
        <source src="https://vjs.zencdn.net/v/oceans.webm" type='video/webm'/>
        <source src="https://cdn.letv-cdn.com/2018/12/05/JOCeEEUuoteFrjCg/playlist.m3u8" type='application/x-mpegURL'/>
    </video>
    <video width="400" controls>
        <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
        <source src="https://www.w3schools.com/html/mov_bbb.ogg" type="video/ogg">
        Your browser does not support HTML video.
    </video>
    <script>
        var a = 0;
        function newWindow() {
            ipc.emit("js-new-window");
        }
        function newBrowserWindow() {
            ipc.emit("js-new-browser-window");
        }
        function find(){
            ipc.emit("find",[document.getElementById('find').value]);
        }
        function findStop(){
            ipc.emit("find-stop");
        }

        function BrowserId() {
            test(browserWindow.browserId());
        }

        function FrameId() {
            test(browserWindow.frameId());
        }

        function minWindow() {
            ipc.emit("minWindow");
        }

        function maxWindow() {
            ipc.emit("maxWindow");
        }

        function closeWindow() {
            ipc.emit("closeWindow");
        }

        function divMnmousedown(e) {
            document.getElementById("test").innerHTML = "";
            test("onmousedown client:", e.clientX, e.clientY);
            //ipc.emit("windowMouseDown",[e.clientX,e.clientY]);
            windowDrag.mousedown(e.clientX, e.clientY);
            document.onmousemove = function (e) {
                e.preventDefault()
                windowDrag.mousemove(e.clientX, e.clientY);
                //ipc.emit("windowMouseMove",[e.clientX,e.clientY]);
            }
            document.onmouseup = function () {
                //ipc.emit("windowMouseUp");
                windowDrag.mouseup();
                document.onmousemove = null;
                document.onmouseup = null;
            };
        }

        function subWindowIPCOn() {
            ipc.emit("subWindowIPCOn", ["å‚æ•°å€¼"], function (ret) {
                test("subWindowIPCOn", ret);
            });
        }

        //åœ°å€æ 
        ipc.on("OnLoadingStateChange", function (isLoading, canGoBack, canGoForward) {
            console.log("OnLoadingStateChange", isLoading, canGoBack, canGoForward);
            test("OnLoadingStateChange", isLoading, canGoBack, canGoForward);
        })
        ipc.on("OnLoadingProgressChange", function (progress) {
            console.log("OnLoadingProgressChange", progress);
            test("OnLoadingProgressChange", progress);
        })
        ipc.on("window-resize", function (x, y, w, h) {
            document.getElementById("test").innerHTML = "";
            test("window-resize", x, y, w, h);
            console.log("window-resize", x, y, w, h);
            //document.getElementById("bodyId").style.height=h+"px";
        });


        //js æ³¨å†Œç›‘å¬ä¸€äº›äº‹ä»¶
        ipc.on("ondalert", function () {
            // alert("onalertæ‰§è¡Œäº†");
        })
        ipc.on("onDemoRetString", function (v1, v2, v3, v4) {
            document.getElementById("test").innerHTML = "";
            test("onDemoRetString", v1, v2, v3, v4);
            return "onDemoRetString æˆ‘æ˜¯ç»“æœ";
        })
        ipc.on("onDemoRetInt", function (v1, v2, v3, v4) {
            test("onDemoRetInt", v1, v2, v3, v4);
            return 110;
        })
        ipc.on("onDemoRetDouble", function (v1, v2, v3, v4) {
            test("onDemoRetDouble", v1, v2, v3, v4);
            return 110.120;
        })
        ipc.on("onDemoRetBoolean", function (v1, v2, v3, v4) {
            test("onDemoRetBoolean", v1, v2, v3, v4);
            return true;
        })
        ipc.on("ondemo", function (v1, v2, v3, v4) {
            test("ondemo", v1, v2, v3, v4);
            return "ondemo æˆ‘æ˜¯ç»“æœ";
        })
        ipc.on("ondemo1", function (v1, v2, v3, v4) {
            test("ondemo1", v1, v2, v3, v4);
            return "ondemo1 æˆ‘æ˜¯ç»“æœ";
        })
        ipc.on("ondemo2", function (v1, v2, v3, v4) {
            test("ondemo2", v1, v2, v3, v4);
            return "ondemo2 æˆ‘æ˜¯ç»“æœ";
        })
        var retIdx = 0;
        ipc.on("ondemo3", function (v1, v2, v3, v4) {
            test("ondemo3", v1, v2, v3, v4)
            retIdx++;
            return "ondemo3 æˆ‘æ˜¯ç»“æœ" + v1 + v2 + v3 + v4 + "  " + retIdx;
        })
        ipc.on("ondemo4", function (v1, v2, v3, v4) {
            test("ondemo4", v1, v2, v3, v4)
            return document.getElementById("bodyId").innerHTML.replaceAll("\n", "");
        })

        function extFunName() {
            try {
                goobj.ObjDemo.noExtFunName(11);
                test("æœªå¯¼å‡ºè¿™é‡Œä¸ä¼šæ‰§è¡Œ");
            } catch (e) {
                test("æœªå¯¼å‡ºå‡½æ•° ExtFunName ", e)
            }
            try {
                goobj.ObjDemo.ExtFunName(11);
                test("å¯¼å‡ºå‡½æ•°  ExtFunName ok");
            } catch (e) {
                test("å¯¼å‡ºå‡½æ•°", e)
            }
        }


        function disabledUIBtn() {
            //goobj.ObjDemo.DisabledUIBtn();
            ipc.emit("goobj.ObjDemo.DisabledUIBtn", function (value, success) {
                document.getElementById("test").innerHTML = "";
                test("goobj.ObjDemo.DisabledUIBtn:", value, "success:", success)
            });
        }

        function GetValue(){
            document.getElementById("test").innerHTML = "è·å–å€¼<br>";
            test(goobj.ObjDemo.ObjFnParams(1, "string", 555.44, true))
            test("NameField-value:", goobj.ObjDemo.NameField)
            test("ObjDemoFloat64Field-value:", goobj.ObjDemo.ObjDemoFloat64Field)
            test("ObjDemoIntField-value:", goobj.ObjDemo.ObjDemoIntField)
            test("ObjDemoBoolField-value:", goobj.ObjDemo.ObjDemoBoolField)
            test("ObjFn1-value:", window.goobj.ObjDemo.ObjFn1(1111))
            test("ObjDemo-value:", JSON.stringify(window.goobj.ObjDemo))
            test("stringv-value:", v8obj.stringv);
            test("integerv-value:", v8obj.integerv);
            test("doublev-value:", v8obj.doublev);
            test("booleanv-value:", v8obj.booleanv);
            // test("æ™®é€šå¯¹è±¡:", JSON.stringify(v8obj))
            test("ç»“æ„å¯¹è±¡:", JSON.stringify(goobj))
        }
        function asyncIPCGet() {
            for (let i = 0; i < 1; i++) {
                asyncIPCGetFor();
            }
        }
        function asyncIPCGetFor() {
            document.getElementById("test").innerHTML = "å¼‚æ­¥IPC-è·å–å€¼<br>";
            try {
                var ii = 0;
                var begin = new Date().getTime()
                ipc.emit("goobj.ObjDemo.ObjFnParams", [1, "string", 555.44, true], function (value) {
                    test("ObjFnParams-Ret-value:", value)
                });
                ipc.emit("goobj.ObjDemo.NameField", function (value) {
                    test("NameField-value:", value)
                });
                ipc.emit("goobj.ObjDemo.NameField", [3333], function (value, is) {
                    test("NameField-value:", value, is)
                });
                ipc.emit("goobj.ObjDemo.ObjDemoFloat64Field", function (value) {
                    test("ObjDemoFloat64Field-value:", value)
                });
                ipc.emit("goobj.ObjDemo.ObjDemoIntField", function (value) {
                    test("ObjDemoIntField-value:", value)
                });
                ipc.emit("goobj.ObjDemo.ObjDemoBoolField", function (value) {
                    test("ObjDemoBoolField-value:", value)
                });
                ipc.emit("window.goobj.ObjDemo.ObjFn1", [1111], function (value) {
                    test("ObjFn1-value:", value)
                });
                ipc.emit("window.goobj.ObjDemo", function (value) {
                    test("ObjDemo-value:", JSON.stringify(value))
                });
                ipc.emit("goobj.ObjDemo.ObjDemoIntField",[88888]);
                ipc.emit("goobj.ObjDemo.ObjDemoIntField",[666666]);
                ipc.emit("goobj.ObjDemo.ObjDemoIntField",[555555]);
                test("stringv-value:", v8obj.stringv);
                test("integerv-value:", v8obj.integerv);
                test("doublev-value:", v8obj.doublev);
                test("booleanv-value:", v8obj.booleanv);
                ipc.emit("window.v8obj.stringv", function (value) {
                    test("ipc-stringv-value:", value)
                });
                ipc.emit("window.v8obj.integerv", function (value) {
                    test("ipc-integerv-value:", value)
                });
                ipc.emit("window.v8obj.doublev", function (value) {
                    test("ipc-doublev-value:", value)
                });
                ipc.emit("window.v8obj.booleanv", function (value) {
                    test("ipc-booleanv-value:", value)
                });
                ipc.emit("subWindowIPCOn", ["å‚æ•°å€¼"], function (ret) {
                    test("subWindowIPCOn", ret);
                });
                ipc.emit("v8obj", function (value) {
                    console.log(value); //è¿™é‡Œä¼šå˜æˆåŒæ­¥ stringify
                    var str = JSON.stringify(value);
                    test("æ™®é€šå¯¹è±¡:", str)
                });
                ipc.emit("window.goobj", function (value) {
                    var str = JSON.stringify(value);
                    test("ç»“æ„å¯¹è±¡:", str)
                });

                //window.goobj.ObjDemo.CallbackCount();
                test("ç”¨æ—¶:", (new Date().getTime() - begin) / 1000, " ii:", ii);
            } catch (e) {
                test(e)
            }
        }

        function ipcServerOn() {
            document.getElementById("test").innerHTML = "";
            try {
                //è‡ªå®šä¹‰ go ipc on
                ipc.emit("test", [110, "å­—ç¬¦ä¸²"], function (value) {
                    test("test:", value)
                })
            } catch (e) {
                test(e)
            }
        }

        function objectFunc() {
            try {
                document.getElementById("test").innerHTML = "æ‰§è¡Œå¯¹è±¡å‡½æ•°<br>";
                window.goobj.ObjDemo.CallbackCount();
                test(window.goobj.ObjDemo.ObjFn1(1123));
                window.goobj.ObjDemo.ObjFnNoOut(6966);
                test(window.goobj.ObjDemo.SubObjDemoField.SubObjFn1(1123));
            } catch (e) {
                test(e)
            }
        }

        function setObjectFieldValue() {
            document.getElementById("test").innerHTML = "";
            try {
                window.goobj.ObjDemo.NameField = "NameFieldNameFieldNameField==setObjectFieldValue";
                goobj.ObjDemo.SubObjDemoField.NameField = "ï¼ˆJs setObjectFieldValue èµ‹çš„å€¼ï¼‰";
                window.goobj.ObjDemo.SubObjDemoField.SubString = "window.goobj.ObjDemo.SubObjDemoField.SubString";
                window.goobj.ObjDemo.SubObjDemoField.SubBool = false;
                window.goobj.ObjDemo.ObjDemoStringField = "æˆ‘æ˜¯ä¸ªå­—ç¬¦ä¸²çš„å€¼"
                window.goobj.ObjDemo.ObjDemoBoolField = true;
                goobj.ObjDemo.ObjDemoIntField = 11111;
                test("è®¾ç½®æˆåŠŸ")
            } catch (e) {
                test(e)
            }
            try {
                window.goobj.ObjDemo = "æ”¹å˜ä¸€ä¸‹";
            } catch (e) {
                test(e)
            }
        }

        function setObjectFieldValue1() {
            document.getElementById("test").innerHTML = "";
            try {
                goobj.ObjDemo.SubObjDemoField.NameField = "ï¼ˆJs setObjectFieldValue1 èµ‹çš„å€¼ï¼‰";
                window.goobj.ObjDemo.NameField = "window.goobj.ObjDemo.NameField==setObjectFieldValue1";
                window.goobj.ObjDemo.SubObjDemoField.SubString = "æ¨è€æ¨window.goobj.ObjDemo.SubObjDemoField.SubString";
                window.goobj.ObjDemo.SubObjDemoField.SubBool = true;
                window.goobj.ObjDemo.ObjDemoStringField = "window.goobj.ObjDemo.ObjDemoStringFieldæˆ‘æ˜¯ä¸ªå­—ç¬¦ä¸²çš„å€¼"
                window.goobj.ObjDemo.ObjDemoBoolField = false;
                goobj.ObjDemo.ObjDemoIntField = 9999999;
                test("è®¾ç½®æˆåŠŸ")
            } catch (e) {
                test(e)
            }
        }

        function asyncIPCSetObjectFieldValue() {
            document.getElementById("test").innerHTML = "";
            try {
                ipc.emit("goobj.ObjDemo.NameField", function (value) {
                    test("goobj.ObjDemo.NameField:", value)
                });
                ipc.emit("goobj.ObjDemo.NameField", ['IPCè®¾ç½®å€¼'], function (value) {
                    test("goobj.ObjDemo.NameField:", value)
                    test("goobj.ObjDemo.NameField:", goobj.ObjDemo.NameField)
                    goobj.ObjDemo.NameField = "ABCD";
                    test("goobj.ObjDemo.NameField:", goobj.ObjDemo.NameField)
                });
            } catch (e) {
                test(e)
            }
        }

        function asyncIPCGetObjectFieldValue() {
            document.getElementById("test").innerHTML = "";
            try {
                ipc.emit("goobj.ObjDemo.NameField", function (value) {
                    test("goobj.ObjDemo.NameField:", value)
                });
                ipc.emit("goobj.ObjDemo.SubObjDemoField.SubString", function (value) {
                    test("goobj.ObjDemo.SubObjDemoField.SubString:", value)
                });
                ipc.emit("window.goobj.ObjDemo.SubObjDemoField.SubBool", function (value) {
                    test("window.goobj.ObjDemo.SubObjDemoField.SubBool:", value)
                });
                ipc.emit("window.goobj.ObjDemo.ObjDemoStringField", function (value) {
                    test("window.goobj.ObjDemo.ObjDemoStringField:", value)
                });
                ipc.emit("window.goobj.ObjDemo.ObjDemoBoolField", function (value) {
                    test("window.goobj.ObjDemo.ObjDemoBoolField:", value)
                });
                ipc.emit("goobj.ObjDemo.ObjDemoIntField", function (value) {
                    test("goobj.ObjDemo.ObjDemoIntField:", value)
                });
            } catch (e) {
                test(e)
            }
        }

        function getObjectFieldValue() {
            document.getElementById("test").innerHTML = "";
            var start = new Date().getTime();
            try {
                // test("goobj.ObjDemo.NameField:", goobj.ObjDemo.NameField)
                // var ssss = window.goobj.ObjDemo.SubObjDemoField;
                // test("window.goobj.ObjDemo.SubObjDemoField.NameField:", window.goobj.ObjDemo.SubObjDemoField.NameField)
                // test("goobj.ObjDemo.SubObjDemoField.SubString:", window.goobj.ObjDemo.SubObjDemoField.SubString)
                // test("goobj.ObjDemo.SubObjDemoField.SubBool:", window.goobj.ObjDemo.SubObjDemoField.SubBool)
                // test("goobj.ObjDemo.ObjDemoStringField:", window.goobj.ObjDemo.ObjDemoStringField)
                test("goobj.ObjDemo.ObjDemoBoolField:", window.goobj.ObjDemo.ObjDemoBoolField)
                test("goobj.ObjDemo:", JSON.stringify(window.goobj.ObjDemo))
                // test("å¯¹è±¡å˜é‡sssså–å€¼:", ssss.SubString);
                // test("ObjDemo.SubObjDemoFieldå­è±¡è½¬JSON:", JSON.stringify(window.goobj.ObjDemo.SubObjDemoField.SubSubObjDemoField))
                // test("å¯¹è±¡è½¬JSON:", JSON.stringify(window.goobj.ObjDemo))
            } catch (e) {
                test(e)
            }
            var end = new Date().getTime() - start;
            test("ç”¨æ—¶", end / 1000, "ç§’")
        }

        var doc = document.getElementById("test");

        function test(...vvv) {
            var str = doc.innerHTML;
            for (var i = 0; i < vvv.length; i++) {
                str = str + "  " + vvv[i];
            }
            str += "<br>";
            doc.innerHTML = str;
        }

        function windowList() {
            ipc.emit('window-list', function (list) {
                document.getElementById("test").innerHTML = "";
                test(list)
            });
        }

        function myFunc() {
            document.getElementById("test").innerHTML = "æ‰§è¡Œå‡½æ•°<br>";
            try {
                var res = v8obj.myfuncHHg("æˆ‘æ˜¯myfuncçš„ç¬¬ä¸€ä¸ªå‚æ•° " + a, "false1false1" + a);
                test("myfuncHHg-res: " + res + " å…¥å‚ æˆ‘æ˜¯myfuncçš„ç¬¬ä¸€ä¸ªå‚æ•° false1false1 " + a);
                res = v8obj.myfuncaHHg("æˆ‘æ˜¯myfunc1çš„ç¬¬ä¸€ä¸ªå‚æ•°", 121 + a);
                test("myfuncaHHg-res: " + res + " å…¥å‚ æˆ‘æ˜¯myfunc1çš„ç¬¬ä¸€ä¸ªå‚æ•°, 121");
                res = v8obj.myfuncbHHg("æˆ‘æ˜¯myfunc2çš„ç¬¬ä¸€ä¸ªå‚æ•°", 333.1 + a, 4444.3333 + a, 999999 + a);
                test("myfuncbHHg-res: " + res + " å…¥å‚ æˆ‘æ˜¯myfunc2çš„ç¬¬ä¸€ä¸ªå‚æ•° 333.1, 999999");
                res = v8obj.myfunccHHg("æˆ‘æ˜¯myfunc3çš„ç¬¬ä¸€ä¸ªå‚æ•°" + a, true);
                test("myfunccHHg-res: " + res + " å…¥å‚ æˆ‘æ˜¯myfunc3çš„ç¬¬ä¸€ä¸ªå‚æ•°, true");
            } catch (e) {
                test(e)
            }
        }

        var interval = 0

        function testGetVal() {
            if (interval > 0) {
                return
            }
            // const obj = window.goobj.ObjDemo.SubObjDemoField;
            // const objCopy = JSON.parse(JSON.stringify(obj))
            // objCopy.NameField = 'copy'
            // a++
            // obj.SubSubObjDemoField.SubSubInt = 123
            // console.log(obj.NameField, objCopy.NameField)
            /*ipc.emit("goobj.ObjDemo.NameField", function (value) {
                test("NameField-value:", value)
            });*/
            interval = setInterval(function () {
                doc.innerHTML = "";
                SetVarA(a % 1)
                GetVar()
                ipc.emit("goobj.ObjDemo.SubObjDemoFiel.NameField", ['æ–°å€¼'], function (value, success, errorCode) {
                    test("ä¸å­˜åœ¨çš„å­—æ®µ, success:", success, "value:", value, 'errorCode:', errorCode)
                });
                subWindowIPCOn()
                // //ä¸å­˜åœ¨çš„å­—æ®µå°†è¿”å›é”™è¯¯
                ipc.emit("goobj.ObjDemo.SubObjDemoField.NameFiel", ['æ–°å€¼'], function (value, success, errorCode) {
                    test("ä¸å­˜åœ¨çš„å­—æ®µ, success:", success, "value:", value, 'errorCode:', errorCode)
                    SetVarA(a % 2)
                    GetVar()
                });
                ipc.emit("goobj.ObjDemo.SubObjDemoField.NameField", function (value, success, errorCode) {
                    test("å­˜åœ¨çš„å­—æ®µå–å€¼, success:", success, "value:", value, 'errorCode:', errorCode)
                    GetVar()
                });
                ipc.emit("goobj.ObjDemo.SubObjDemoField.NameField", [false], function (value, success, errorCode) {
                    test("ä¸ä¸€æ ·çš„ç±»å‹, success:", success, "value:", value, 'errorCode:', errorCode)
                });
                var newValue = a + 'å­—ç¬¦ä¸²';
                ipc.emit("goobj.ObjDemo.SubObjDemoField.NameField", [newValue], function (value, success, errorCode) {
                    test("å­˜åœ¨çš„å­—æ®µèµ‹å€¼, success:", success, 'errorCode:', errorCode, "oldValue:", value, "newValue:", newValue)
                    SetVarA(a % 3)
                    GetVar()
                });
                //å¯¹è±¡ç±»å‹ä¸ä¼šèµ‹å€¼,è€Œæ˜¯è¿”å›è¿™ä¸ªå¯¹è±¡
                ipc.emit("goobj.ObjDemo.SubObjDemoField", ['æ–°å€¼'], function (value, success, errorCode) {
                    test("å¯¹è±¡èµ‹å€¼, success:", success, 'errorCode:', errorCode, "value:", JSON.stringify(value))
                    subWindowIPCOn()
                });
                // test('------------------------------------------------------------------------------------------------------------')
                SetVarA(a % 2)
                GetVar();
                SetVarA(a % 3)
                GetVar();
                // goobj.ObjDemo.SubObjDemoField.NameField = 'bbbb ' + a;
                // test('ç›´æ¥å–å€¼, å­˜åœ¨çš„å­—æ®µ', goobj.ObjDemo.SubObjDemoField.NameField);
                // test('------------------------------------------------------------------------------------------------------------')
                //asyncIPCGet();
                a++
            }, 10);
        }

        function clearIntervalFn() {
            clearInterval(interval)
            interval = 0;
        }

        function GetVar() {
            try {
                document.getElementById("test").innerHTML = "";
                test('stringv:', window.v8obj.stringv);
                test('integerv:', window.v8obj.integerv);
                test('doublev:', window.v8obj.doublev);
                test('booleanv:', window.v8obj.booleanv);
                test('nullv:', window.v8obj.nullv);
                test('undefinedv:', window.v8obj.undefinedv);
            } catch (e) {
                test(e)
            }
        }

        function SetVarA(t) {
            try {
                if (t === 0) {
                    window.v8obj.stringv = "stringvæˆ‘æ˜¯å­—ç¬¦ä¸²" + a;
                    window.v8obj.integerv = "integervæˆ‘æ˜¯å­—ç¬¦ä¸²" + a;
                    window.v8obj.doublev = "doublevæˆ‘æ˜¯å­—ç¬¦ä¸²" + a;
                    window.v8obj.booleanv = "booleanvæˆ‘æ˜¯å­—ç¬¦ä¸²" + a;
                } else if (t === 1) {
                    window.v8obj.stringv = 111111 + a;
                    window.v8obj.integerv = 222222 + a;
                    window.v8obj.doublev = 33333 + a;
                    window.v8obj.booleanv = 44444 + a;
                } else if (t === 2) {
                    window.v8obj.stringv = 111111.11111 + a;
                    window.v8obj.integerv = 222222.22222 + a;
                    window.v8obj.doublev = 33333.33333 + a;
                    window.v8obj.booleanv = 44444.44444 + a;
                } else if (t === 3) {
                    window.v8obj.stringv = false;
                    window.v8obj.integerv = true;
                    window.v8obj.doublev = false;
                    window.v8obj.booleanv = true;
                } else {
                    window.v8obj.stringv = "stringv"
                    window.v8obj.integerv = 3333;
                    window.v8obj.doublev = "æˆ‘æœ¬æ¥æ˜¯double";
                    window.v8obj.booleanv = false;
                }
            } catch (e) {
                test(e)
            }
        }


    </script>
</div>
</body>
</html>